<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calcul Profit</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; padding: 10px; }
        input, button, select { padding: 10px; margin: 5px 0; width: 100%; }
        .result { margin-top: 20px; }
        .add-item { margin-bottom: 10px; display: flex; justify-content: space-between; }
        .add-item input { width: 48%; }
        .total-display { font-weight: bold; margin-top: 10px; }
        .profit-display { font-size: 24px; font-weight: bold; color: green; margin-top: 20px; display: flex; align-items: center; }
        .profit-icon { margin-right: 10px; }
        .print-button { background-color: #4CAF50; color: white; border: none; padding: 10px 20px; font-size: 16px; cursor: pointer; display: flex; align-items: center; }
        .print-button:hover { background-color: #45a049; }
        .print-button img { margin-right: 10px; }
        @media print {
            .no-print { display: none; }
        }
    </style>
</head>
<body>
<h2>Calculator de profit/preț de vânzare</h2>
<p><strong>Descriere:</strong><br>Acest calculator te ajută să calculezi un preț de vânzare astfel încât să fii sigur că vei obține un profit și nu vei vinde în pierdere.<br>
Citește informațiile și instrucțiunile de mai jos pentru a utiliza corect aplicația.</p>

<form id="profitCalculator">
    <!-- Număr de comenzi estimate lunar -->
    <label for="numarComenzi">Număr de comenzi estimate lunar:</label>
    <input type="number" id="numarComenzi" placeholder="Ex: 100" step="1" oninput="calculateProfit()">

    <label for="pretAchizitie">Preț Achiziție cu TVA (19%):</label>
    <input type="number" id="pretAchizitie" placeholder="Ex: 153" step="0.01" oninput="calculateProfit()">

    <!-- Selectare TVA (cu 3 opțiuni: 0%, 9%, 19%) -->
    <label for="tva">Selectează TVA pentru vânzare:</label>
    <select id="tva" onchange="calculateProfit()">
        <option value="0.00">TVA 0%</option>
        <option value="0.09">TVA 9%</option>
        <option value="0.19">TVA 19%</option>
    </select>

    <!-- Selectare impozit -->
    <label for="impozit">Selectează impozitul de plată:</label>
    <select id="impozit" onchange="calculateProfit()">
        <option value="0.03">Impozit 3%</option>
        <option value="0.16">Impozit 16%</option>
    </select>

    <!-- Afișare impozit calculat -->
    <p class="total-display">Impozit de plată: <span id="impozitPlata">0</span> RON</p>

    <!-- Preț de Vânzare cu TVA -->
    <label for="pretVanzare">Preț de Vânzare cu TVA:</label>
    <input type="number" id="pretVanzareCuTVA" placeholder="Ex: 400" step="0.01" oninput="calculateProfit()">

    <label for="comisionEmag">Comision eMag % (cu TVA):</label>
    <input type="number" id="comisionEmag" placeholder="Ex: 0.21 daca comisionul este 21%" step="0.01" oninput="calculateProfit()">
    <p class="total-display">Comision eMag (RON cu TVA): <span id="comisionEmagSuma">0</span> RON</p>

    <!-- Adăugare câmp pentru Transport la domiciliu (cu TVA) -->
    <label for="transportDomiciliu">Transport la domiciliu (cu TVA):</label>
    <input type="number" id="transportDomiciliu" placeholder="Ex: 23" step="0.01" oninput="calculateProfit()">

    <!-- Afișare comision eMag pentru transport la domiciliu -->
    <p class="total-display">Comision eMag transport la domiciliu (cu TVA): <span id="comisionTransportDomiciliu">0</span> RON</p>

    <!-- Afișare comision Genius calculat automat fără TVA -->
    <p class="total-display">Comision Genius (cu TVA): <span id="comisionGenius">0</span> RON</p>

    <!-- Secțiune consumabile -->
    <h3>Consumabile folosite/produs vândut</h3>
    <div id="consumabileSection">
        <div class="add-item">
            <input type="number" class="consumabile-item" placeholder="Ex: 0.8" step="0.01" oninput="updateTotalConsumabile()">
            <input type="text" class="consumabile-description" placeholder="Ex: Cutie ambalaj">
        </div>
    </div>
    <button type="button" onclick="addConsumabil()">Adaugă Consumabil</button>
    <p class="total-display">Total Consumabile: <span id="totalConsumabile">0</span> RON</p>

    <!-- Secțiune alte cheltuieli -->
    <h3>Alte Cheltuieli cu administrarea activității firmei</h3>
    <div id="cheltuieliSection">
        <div class="add-item">
            <input type="number" class="cheltuieli-item" placeholder="Ex: 1.5" step="0.01" oninput="updateTotalCheltuieli()">
            <input type="text" class="cheltuieli-description" placeholder="Ex: Comision bancar">
        </div>
    </div>
    <button type="button" onclick="addCheltuiala()">Adaugă Cheltuială</button>
    <p class="total-display">Total Cheltuieli per comandă: <span id="totalCheltuieli">0</span> RON</p>

    <!-- Afișare TVA de plată la stat -->
    <p class="total-display">TVA de plată la stat: <span id="tvaPlata">0</span> RON</p>

    <!-- Afișare profit final -->
    <div class="result profit-display">
        <span class="profit-icon">💰</span>
        <p id="profitDisplay">Profit: 0 RON</p>
    </div>
</form>

<!-- Buton de Print -->
<button class="print-button no-print" onclick="window.print()">
    <img src="https://img.icons8.com/ios-filled/50/ffffff/print.png" alt="Print Icon" width="24" height="24">
    Print
</button>

<!-- Secțiunea cu informații și instrucțiuni -->
<h2>Informații și instrucțiuni de utilizare:</h2>
<p><strong>De ce este necesar numărul estimat de comenzi lunar?</strong><br>Pentru activitatea ta de vânzare, vei avea două categorii de cheltuieli:</p>

<h3>Consumabilele</h3>
<p>Cheltuielile cu consumabilele se iau în considerare pentru fiecare produs în parte. Exemple de consumabile includ: cutii pentru ambalare, folie cu bule, pungi de curierat, hârtia folosită pentru imprimarea AWB-ului sau plicul autoadeziv pentru AWB. În secțiunea Consumabile, poți adăuga linii noi, completând prețul și denumirea fiecărui element.</p>

<h3>Alte cheltuieli</h3>
<p>În secțiunea Alte cheltuieli vei trece cheltuielile lunare ale activității tale, cum ar fi: plata serviciilor de contabilitate, carburantul, chiria, comisioanele bancare sau alte cheltuieli lunare. La finalul acestei secțiuni, vei obține o medie a cheltuielilor per produs, bazată pe numărul estimat de comenzi lunare.</p>

<hr>

<h2>Dacă ești seller eMag, este important să ai în vedere câteva cheltuieli suplimentare:</h2>

<h3>1. Comisionul eMag</h3>
<p>În funcție de categoria produsului, comisionul eMag variază. Introdu valoarea comisionului ca cifră, nu ca procent. De exemplu, pentru un comision de 21%, vei introduce 21.</p>

<h3>2. Comisionul Genius</h3>
<p>Comisionul Genius variază în funcție de valoarea comenzii. În aplicația noastră, comisionul Genius este calculat automat pe baza prețului de vânzare pe care l-ai setat, așa că nu trebuie să faci nimic în acest sens. Poți verifica tabelul cu comisioanele la finalul aplicației.</p>

<hr>

<h3>TVA pentru vânzare</h3>
<p>În funcție de statutul firmei tale, selectează TVA-ul aplicabil: 0% (neplătitor de TVA), 9%, sau 19%. Dacă nu ești sigur ce să alegi, consultă contabilul tău.</p>

<h3>Impozitul de plată</h3>
<p>În funcție de grila de impozitare în care te încadrezi, alege impozitul corespunzător: 3% sau 16%. Dacă nu ești sigur, întreabă contabilul pentru a face alegerea corectă.</p>

<hr>

<h2>Contact</h2>
<p>Această aplicație nu este perfectă și va fi îmbunătățită cu ajutorul tău sau poate fi personalizată pentru nevoile tale specifice. Poate fi distribuită gratuit sau achiziționată conta cost legal (cu factură fiscală).<br>
Pentru observații, întrebări sau personalizare, te rog să mă contactezi prin email sau WhatsApp:</p>
<p><strong>Mihai Drogoreanu</strong><br>
Email: mihaidrogoreanu@gmail.com<br>
WhatsApp: 0728341191</p>

<!-- Tabel Comisioane Genius -->
<h3>Tabel Comisioane Genius</h3>
<table border="1" cellpadding="10" cellspacing="0" style="width:100%; text-align:center;">
    <tr>
        <th>Valoare minimă comandă (RON, TVA inclus)</th>
        <th>Valoare maximă comandă (RON, TVA inclus)</th>
        <th>Genius fee (RON, fără TVA)</th>
    </tr>
    <tr>
        <td>0</td>
        <td>29.99</td>
        <td>1</td>
    </tr>
    <tr>
        <td>30</td>
        <td>39.99</td>
        <td>1.5</td>
    </tr>
    <tr>
        <td>40</td>
        <td>49.99</td>
        <td>2</td>
    </tr>
    <tr>
        <td>50</td>
        <td>74.99</td>
        <td>2.5</td>
    </tr>
    <tr>
        <td>75</td>
        <td>149.99</td>
        <td>3.5</td>
    </tr>
    <tr>
        <td>≥ 150</td>
        <td>-</td>
        <td>5</td>
    </tr>
</table>

<h>Copyright © Mihai Drogoreanu</p>


<script>
// Funcție pentru adăugarea de consumabile
function addConsumabil() {
    const consumabileSection = document.getElementById('consumabileSection');
    const newItem = document.createElement('div');
    newItem.className = 'add-item';
    newItem.innerHTML = `
        <input type="number" class="consumabile-item" placeholder="Ex: 0.8" step="0.01" oninput="updateTotalConsumabile()">
        <input type="text" class="consumabile-description" placeholder="Ex: Cutie ambalaj">
    `;
    consumabileSection.appendChild(newItem);
}

// Funcție pentru adăugarea de cheltuieli
function addCheltuiala() {
    const cheltuieliSection = document.getElementById('cheltuieliSection');
    const newItem = document.createElement('div');
    newItem.className = 'add-item';
    newItem.innerHTML = `
        <input type="number" class="cheltuieli-item" placeholder="Ex: 1.5" step="0.01" oninput="updateTotalCheltuieli()">
        <input type="text" class="cheltuieli-description" placeholder="Ex: Comision bancar">
    `;
    cheltuieliSection.appendChild(newItem);
}

// Funcție pentru actualizarea totalului consumabilelor
function updateTotalConsumabile() {
    let totalConsumabile = 0;
    const consumabileItems = document.getElementsByClassName('consumabile-item');
    for (let i = 0; i < consumabileItems.length; i++) {
        totalConsumabile += parseFloat(consumabileItems[i].value) || 0;
    }
    document.getElementById('totalConsumabile').textContent = totalConsumabile.toFixed(2);
    calculateProfit(); // Recalculează profitul automat
}

// Funcție pentru actualizarea totalului cheltuielilor
function updateTotalCheltuieli() {
    let totalCheltuieli = 0;
    const cheltuieliItems = document.getElementsByClassName('cheltuieli-item');
    for (let i = 0; i < cheltuieliItems.length; i++) {
        totalCheltuieli += parseFloat(cheltuieliItems[i].value) || 0;
    }

    const numarComenzi = parseInt(document.getElementById('numarComenzi').value) || 1;
    const cheltuieliPerComanda = totalCheltuieli / numarComenzi;
    document.getElementById('totalCheltuieli').textContent = cheltuieliPerComanda.toFixed(2);
    calculateProfit(); // Recalculează profitul automat
}

// Funcția principală de calcul a profitului
function calculateProfit() {
    const pretAchizitie = parseFloat(document.getElementById('pretAchizitie').value) || 0;
    const pretVanzareCuTVA = parseFloat(document.getElementById('pretVanzareCuTVA').value) || 0;
    const pretVanzareFaraTVA = pretVanzareCuTVA / 1.19; // Calculare preț fără TVA

    const comisionEmagProcent = parseFloat(document.getElementById('comisionEmag').value) || 0;
    const transportDomiciliu = parseFloat(document.getElementById('transportDomiciliu').value) || 0;

    // Calculare comision eMag pentru prețul de vânzare
    const comisionEmagSuma = (comisionEmagProcent / 100) * pretVanzareCuTVA;
    document.getElementById('comisionEmagSuma').textContent = comisionEmagSuma.toFixed(2);

    // Calculare comision eMag pentru transport la domiciliu
    const comisionTransportDomiciliu = (comisionEmagProcent / 100) * transportDomiciliu;
    document.getElementById('comisionTransportDomiciliu').textContent = comisionTransportDomiciliu.toFixed(2);

    // Calculare comision Genius pe baza valorii comenzii cu TVA
    let comisionGenius = 0;
    if (pretVanzareCuTVA >= 150) {
        comisionGenius = 5;
    } else if (pretVanzareCuTVA >= 75 && pretVanzareCuTVA <= 149.99) {
        comisionGenius = 3.5;
    } else if (pretVanzareCuTVA >= 50 && pretVanzareCuTVA <= 74.99) {
        comisionGenius = 2.5;
    } else if (pretVanzareCuTVA >= 40 && pretVanzareCuTVA <= 49.99) {
        comisionGenius = 2;
    } else if (pretVanzareCuTVA >= 30 && pretVanzareCuTVA <= 39.99) {
        comisionGenius = 1.5;
    } else if (pretVanzareCuTVA >= 0 && pretVanzareCuTVA <= 29.99) {
        comisionGenius = 1;
    }

    // Adăugăm TVA-ul la comisionul Genius
    comisionGenius = comisionGenius * 1.19;
    document.getElementById('comisionGenius').textContent = comisionGenius.toFixed(2);

    const tvaSelectat = parseFloat(document.getElementById('tva').value);
    const impozitSelectat = parseFloat(document.getElementById('impozit').value);

    // Calcularea TVA de plată la stat
    const tvaAchizitie = pretAchizitie - (pretAchizitie / 1.19);
    let tvaPlata = (pretVanzareFaraTVA * tvaSelectat) - tvaAchizitie;
    if (tvaPlata < 0) tvaPlata = 0; // TVA-ul de plată nu poate fi negativ
    document.getElementById('tvaPlata').textContent = tvaPlata.toFixed(2);

    // Total pentru consumabile
    const totalConsumabile = parseFloat(document.getElementById('totalConsumabile').textContent) || 0;

    // Total pentru alte cheltuieli per comandă
    const totalCheltuieliPerComanda = parseFloat(document.getElementById('totalCheltuieli').textContent) || 0;

    // Calcularea profitului subtotal
    const profitSubtotal = pretVanzareCuTVA - pretAchizitie - comisionEmagSuma - comisionGenius - totalConsumabile - totalCheltuieliPerComanda - tvaPlata - comisionTransportDomiciliu;

    // Calcularea impozitului pe profit
    const impozitPlata = profitSubtotal * impozitSelectat;
    document.getElementById('impozitPlata').textContent = impozitPlata.toFixed(2);

    // Calcularea profitului final
    const profitFinal = profitSubtotal - impozitPlata;

    // Afișarea rezultatului final
    document.getElementById('profitDisplay').textContent = `Profit: ${profitFinal.toFixed(2)} RON`;
}


</script>

</body>
</html>

